{% extends 'base.html' %}
{% block title %}Dashboard — FGTS Web{% endblock %}
{% block extra_css %}
<style>
  .card-standardized {
    min-height: 180px;
    display: flex;
    flex-direction: column;
  }
  
  .card-standardized .card-body {
    flex: 1;
    display: flex;
    align-items: center;
  }
</style>
{% endblock %}
{% block content %}
<div class="container py-4">
  <h2 class="mb-4">Dashboard</h2>
  
  <div class="row g-3">
    <div class="col-md-4">
      <div class="card shadow-sm border-left border-primary card-standardized">
        <div class="card-body">
          <div class="d-flex justify-content-between align-items-center w-100">
            <div>
              <div class="text-muted small">Funcionários</div>
              <div class="h3 mb-0">{{ funcs_total }}</div>
            </div>
            <i class="bi bi-people fs-1 text-primary opacity-50"></i>
          </div>
        </div>
      </div>
    </div>
    
    <div class="col-md-4">
      <div class="card shadow-sm border-left border-success card-standardized">
        <div class="card-body">
          <div class="d-flex justify-content-between align-items-center w-100">
            <div>
              <div class="text-muted small">Lançamentos</div>
              <div class="h3 mb-0">{{ lancs_total }}</div>
              <small class="text-warning">⚠️ {{ lancs_pendentes }} pendentes</small>
            </div>
            <i class="bi bi-file-earmark-text fs-1 text-success opacity-50"></i>
          </div>
        </div>
      </div>
    </div>
    
    <div class="col-md-4">
      <div class="card shadow-sm border-left border-info card-standardized">
        <div class="card-body">
          <div class="d-flex justify-content-between align-items-center w-100">
            <div>
              <div class="text-muted small">Plano Atual</div>
              <div class="h5 mb-0">{% if current_plan %}{{ current_plan.name }}{% else %}Sem plano{% endif %}</div>
              {% if current_plan %}<small class="text-muted">R$ {{ current_plan.amount }} / mês</small>{% endif %}
            </div>
            <i class="bi bi-credit-card fs-1 text-info opacity-50"></i>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <div class="row g-3 mt-2">
    <div class="col-md-12">
      <div class="card shadow-sm">
        <div class="card-header bg-light border-bottom">
          <h6 class="mb-0">Ações Rápidas</h6>
        </div>
        <div class="card-body">
          <a class="btn btn-sm btn-outline-primary" href="{% url 'funcionario-list' %}"><i class="bi bi-people"></i> Ver Funcionários</a>
          <a class="btn btn-sm btn-outline-success" href="{% url 'lancamento-list' %}"><i class="bi bi-file-text"></i> Ver Lançamentos</a>
          <a class="btn btn-sm btn-outline-info" href="{% url 'relatorio-competencia' %}"><i class="bi bi-graph-up"></i> Gerar Relatório</a>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}
