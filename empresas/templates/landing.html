{% extends 'base.html' %}

{% block title %}FGTS Web — Gestão de FGTS em Atraso{% endblock %}

{% block extra_css %}
<style>
  .hero {
    min-height: 78vh;
    display: flex;
    align-items: center;
    color: #fff;
    background: radial-gradient(1200px 600px at 80% -10%, rgba(255,255,255,0.12), rgba(255,255,255,0) 60%),
                linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  }
  .hero h1 { font-weight: 800; letter-spacing: -0.5px; }
  .hero p.lead { opacity: .95; }
  .metric {
    border-radius: 12px; background: rgba(255,255,255,.1); color: #fff;
    border: 1px solid rgba(255,255,255,.2);
  }
  .section { padding: 80px 0; background: #fff; }
  .section-alt { padding: 80px 0; background: #f8f9fb; }
  .feature-card { border: none; border-radius: 14px; box-shadow: 0 10px 30px rgba(0,0,0,.06); }
  .feature-card .icon { width: 52px; height: 52px; display: inline-flex; align-items: center; justify-content: center; border-radius: 10px; }
  .cta-gradient { background: linear-gradient(135deg, #2c3e50 0%, #3498db 100%); }
  
  /* Pricing Plans */
  .pricing-section { padding: 100px 0; background: #fff; }
  .pricing-card { border: 2px solid #e0e0e0; border-radius: 14px; transition: all 0.3s ease; position: relative; }
  .pricing-card:hover { transform: translateY(-8px); box-shadow: 0 20px 40px rgba(0,0,0,.1); border-color: #667eea; }
  .pricing-card.featured { border-color: #667eea; box-shadow: 0 20px 40px rgba(102, 126, 234, 0.15); }
  .pricing-card.featured .badge-popular { position: absolute; top: -12px; left: 50%; transform: translateX(-50%); background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 6px 16px; border-radius: 20px; font-size: 0.8rem; font-weight: 600; }
  .pricing-price { font-size: 2.5rem; font-weight: 800; color: #2c3e50; }
  .pricing-period { color: #95a5a6; font-size: 0.95rem; }
  .pricing-features { list-style: none; padding: 0; margin: 25px 0; }
  .pricing-features li { padding: 12px 0; border-bottom: 1px solid #f0f0f0; color: #555; display: flex; align-items: center; }
  .pricing-features li:before { content: "✓"; color: #27ae60; font-weight: bold; margin-right: 10px; font-size: 1.2rem; }
  .pricing-features li:last-child { border-bottom: none; }
  .pricing-btn { width: 100%; padding: 12px; font-size: 1rem; font-weight: 600; border: none; border-radius: 8px; cursor: pointer; transition: all 0.3s ease; }
  .pricing-btn-primary { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; }
  .pricing-btn-primary:hover { transform: translateY(-2px); box-shadow: 0 6px 20px rgba(102, 126, 234, 0.3); }
  .pricing-btn-secondary { background: #f0f0f0; color: #2c3e50; border: 2px solid #e0e0e0; }
  .pricing-btn-secondary:hover { background: #e0e0e0; }

</style>
{% endblock %}

{% block content %}
<!-- HERO -->
<section class="hero">
  <div class="container py-5">
    <div class="row align-items-center">
      <div class="col-lg-7">
        <h1 class="display-4 mb-3">FGTS em atraso sem dor de cabeça</h1>
            <p class="lead mb-4">Calcule, organize e gere seus guias com precisão. Importação inteligente, índices atualizados e fluxo simples para empresas e escritórios contábeis.</p>
        <div class="d-flex gap-2">
          {% if request.user.is_authenticated %}
          <a href="{% url 'dashboard' %}" class="btn btn-light btn-lg"><i class="bi bi-speedometer2"></i> Dashboard</a>
          <a href="{% url 'lancamento-list' %}" class="btn btn-outline-light btn-lg"><i class="bi bi-receipt"></i> Lançamentos</a>
          {% else %}
          <a href="{% url 'empresa-list' %}" class="btn btn-light btn-lg"><i class="bi bi-rocket-takeoff"></i> Começar agora</a>
          <a href="{% url 'login' %}" class="btn btn-outline-light btn-lg"><i class="bi bi-box-arrow-in-right"></i> Login</a>
          {% endif %}
        </div>
        <div class="row g-3 mt-4">
          <div class="col-6 col-md-4">
            <div class="metric p-3 text-center">
              <div class="h4 mb-0">+99,9%</div>
              <small>Precisão de índices</small>
            </div>
          </div>
          <div class="col-6 col-md-4">
            <div class="metric p-3 text-center">
                  {% if current_plan %}
                  <div class="h6 mb-2 text-muted">Plano Atual</div>
                  <div class="h4 mb-0">R$ {{ current_plan.amount }}</div>
                  <small>{{ current_plan.get_periodicity_display }}</small>
                  {% else %}
                  <div class="h6 mb-2 text-muted">Plano Básico</div>
                  <div class="h4 mb-0">R$ 99,90</div>
                  <small>Mensal</small>
                  {% endif %}
            </div>
          </div>
          <div class="col-6 col-md-4 d-none d-md-block">
            <div class="metric p-3 text-center">
              <div class="h4 mb-0">Automático</div>
              <small>importação/atualização</small>
            </div>
          </div>
        </div>
      </div>
      <div class="col-lg-5 d-none d-lg-block">
        {% if not request.user.is_authenticated %}
        <div class="card feature-card">
          <div class="card-body p-4">
            <h5 class="mb-3"><i class="bi bi-calculator"></i> Demonstração rápida</h5>
            <p class="text-muted mb-3">Crie uma empresa e cadastre um funcionário para simular valores de FGTS.</p>
            <ol class="mb-3 text-muted">
              <li>Clique em "Começar agora"</li>
              <li>Cadastre a empresa</li>
              <li>Cadastre um funcionário</li>
            </ol>
            <a href="{% url 'empresa-list' %}" class="btn btn-primary w-100">Iniciar demonstração</a>
          </div>
        </div>
        {% endif %}
      </div>
    </div>
  </div>
</section>

<!-- FEATURES -->
<section class="section">
  <div class="container">
    <div class="text-center mb-5">
      <h2 class="fw-bold">Tudo para regularizar seu FGTS</h2>
      <p class="text-muted">Do cadastro ao cálculo, em um só lugar.</p>
    </div>
    <div class="row g-4">
      <div class="col-md-6 col-lg-4">
        <div class="card feature-card h-100">
          <div class="card-body">
            <div class="icon bg-primary-subtle text-primary mb-3"><i class="bi bi-cloud-arrow-down"></i></div>
            <h5>Importação inteligente</h5>
            <p class="text-muted">Traga bases e índices de forma simples, com validação automática.</p>
          </div>
        </div>
      </div>
      <div class="col-md-6 col-lg-4">
        <div class="card feature-card h-100">
          <div class="card-body">
            <div class="icon bg-success-subtle text-success mb-3"><i class="bi bi-clipboard2-check"></i></div>
            <h5>Cálculo preciso</h5>
            <p class="text-muted">Regras consolidadas do legado, atualizadas para web com rastreabilidade.</p>
          </div>
        </div>
      </div>
      <div class="col-md-6 col-lg-4">
        <div class="card feature-card h-100">
          <div class="card-body">
            <div class="icon bg-warning-subtle text-warning mb-3"><i class="bi bi-speedometer2"></i></div>
            <h5>Relatórios claros</h5>
            <p class="text-muted">Acompanhe consolidados por empresa, funcionário e competência.</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- PRICING PLANS -->
<section class="pricing-section">
  <div class="container">
    <div class="text-center mb-5">
      <h2 class="fw-bold mb-2">Planos e Preços</h2>
      <p class="text-muted">Escolha o plano ideal para o tamanho da sua empresa e necessidades de gestão de FGTS.</p>
    </div>
    
    <div class="row g-4">
      <!-- Plano Básico -->
      <div class="col-lg-4">
        <div class="pricing-card h-100 p-4">
          <h4 class="mb-2">Básico</h4>
          <p class="text-muted mb-3">Para pequenas empresas</p>
          
          <div class="mb-4">
            <span class="pricing-price">R$ 99</span>
            <span class="pricing-period"> /mês</span>
          </div>
          
          <ul class="pricing-features">
            <li>Até 50 Colaboradores</li>
            <li>Dashboard Básico</li>
            <li>Relatórios Mensais</li>
            <li>Suporte por e-mail</li>
          </ul>
          
          <button class="pricing-btn pricing-btn-secondary" onclick="window.location.href='{% url 'checkout-plano-tipo' plan_type='BASIC' %}'">Escolher Plano</button>
        </div>
      </div>
      
      <!-- Plano Profissional (Mais Popular) -->
      <div class="col-lg-4">
        <div class="pricing-card featured h-100 p-4">
          <div class="badge-popular">Mais popular</div>
          <h4 class="mb-2">Profissional</h4>
          <p class="text-muted mb-3">Para empresas em crescimento</p>
          
          <div class="mb-4">
            <span class="pricing-price">R$ 199</span>
            <span class="pricing-period"> /mês</span>
          </div>
          
          <ul class="pricing-features">
            <li>Até 200 Colaboradores</li>
            <li>Dashboard Avançado</li>
            <li>Relatórios Personalizados</li>
            <li>Exportação em PDF e Excel</li>
            <li>Suporte prioritário</li>
          </ul>
          
          <button class="pricing-btn pricing-btn-primary" onclick="window.location.href='{% url 'checkout-plano-tipo' plan_type='PROFESSIONAL' %}'">Escolher Plano</button>
        </div>
      </div>
      
      <!-- Plano Empresarial -->
      <div class="col-lg-4">
        <div class="pricing-card h-100 p-4">
          <h4 class="mb-2">Empresarial</h4>
          <p class="text-muted mb-3">Para grandes empresas</p>
          
          <div class="mb-4">
            <span class="pricing-price">R$ 399</span>
            <span class="pricing-period"> /mês</span>
          </div>
          
          <ul class="pricing-features">
            <li>Colaboradores ilimitados</li>
            <li>Dashboard Personalizado</li>
            <li>API para integração</li>
            <li>Suporte 24/7</li>
          </ul>
          
          <button class="pricing-btn pricing-btn-secondary" onclick="window.location.href='{% url 'checkout-plano-tipo' plan_type='ENTERPRISE' %}'">Escolher Plano</button>
        </div>
      </div>
    </div>
    
    <div class="text-center mt-5">
      <p class="text-muted mb-0">Todos os planos incluem índices atualizados, importação inteligente e cálculo preciso de FGTS.</p>
    </div>
  </div>
</section>

<!-- CTA -->
<section class="section-alt">
  <div class="container">
    <div class="p-5 rounded-4 text-white cta-gradient d-flex flex-column flex-md-row align-items-center justify-content-between">
      <div>
        <h3 class="mb-1">Pronto para começar?</h3>
        <p class="mb-0">Leva poucos minutos para criar sua primeira empresa.</p>
      </div>
      <div class="mt-3 mt-md-0">
        <a href="{% url 'empresa-list' %}" class="btn btn-light btn-lg"><i class="bi bi-building-add"></i> Cadastrar empresa</a>
      </div>
    </div>
  </div>
</section>

<!-- FOOTER -->
<section class="py-4" style="background:#fff">
  <div class="container d-flex flex-column flex-md-row align-items-center justify-content-between">
    <div class="text-muted small">FGTS Web — Projeto em desenvolvimento</div>
    <div class="small">
      <a href="{% url 'empresa-list' %}" class="text-decoration-none me-3">Empresas</a>
      <a href="{% url 'funcionario-list' %}" class="text-decoration-none">Funcionários</a>
    </div>
  </div>
</section>
{% endblock %}
